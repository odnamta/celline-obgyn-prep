# V7.2.4 Hotfix: Migration Schema Column Fix

**Goal**: Fix the crash in `bulkCreateMCQV2` caused by using wrong column name during legacy deck migration.

## Root Cause

The error `Could not find is_public column` occurred because:
- The `deck_templates` table uses `visibility` column (enum: 'private', 'public')
- The migration code incorrectly used `is_public: false`

## Fix Applied

- [x] 1. Locate the migration logic in `src/actions/batch-mcq-actions.ts`
- [x] 2. Change `is_public: false` to `visibility: 'private'`
- [x] 3. Verify no TypeScript errors

## Code Change

```diff
// Create deck_template
const { data: newTemplate, error: templateError } = await supabase
  .from('deck_templates')
  .insert({
    title: legacyDeck.title,
    author_id: user.id,
-   is_public: false,
+   visibility: 'private',
  })
```

## Verification

- [ ] Test Manual Scan Page - should now save cards successfully
- [ ] Test Auto-Scan - should now save cards successfully
- [ ] Check server logs for successful migration message
